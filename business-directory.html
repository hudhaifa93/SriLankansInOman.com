<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Business Directory â€“ SriLankansInOman.com</title>
  <meta name="description" content="Browse Sri Lankan-owned businesses in Oman. Find trusted services, shops, and entrepreneurs from the Sri Lankan community." />
  <meta name="keywords" content="Sri Lankan businesses Oman, Sri Lankan business directory, Sri Lankan shops Oman, Sri Lankan services Oman" />
  <link rel="canonical" href="https://srilankansinoman.com/business-directory" />
  <!-- IIS caching hint: configure <staticContent> clientCache max-age for at least 7 days to leverage browser caching on static assets. -->
  <link rel="preload" as="image" href="assets/icons/logo.png" type="image/png" />
  <link rel="preload" as="font" href="https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTcH4Wxn45Q.woff2" type="font/woff2" crossorigin />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="icon" href="assets/icons/favicon.svg" type="image/svg+xml" />
  <meta property="og:title" content="Business Directory â€“ SriLankansInOman.com" />
  <meta property="og:description" content="Discover Sri Lankan-owned businesses in Oman. Connect with trusted entrepreneurs from our community." />
  <meta property="og:url" content="https://srilankansinoman.com/business-directory" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://srilankansinoman.com/assets/img/og-image.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Business Directory â€“ SriLankansInOman.com" />
  <meta name="twitter:description" content="Browse trusted Sri Lankan businesses in Oman and support our community entrepreneurs." />
  <meta name="twitter:image" content="https://srilankansinoman.com/assets/img/og-image.jpg" />
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" as="style" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" media="print" onload="this.media='all'" />
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" />
  </noscript>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-BYNFTJ6QP1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-BYNFTJ6QP1');
  </script>
  <link rel="stylesheet" href="assets/css/custom.css" />
  <link rel="stylesheet" href="assets/css/theme-heritage.css" />
  <link rel="stylesheet" href="assets/css/theme-tea-desert.css" />
  <link rel="stylesheet" href="assets/css/theme-ocean-breeze.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'brand-red': '#E63946',
            'brand-slate': '#1F2A37',
            'brand-light': '#F8FAFC'
          },
          fontFamily: {
            display: ['Inter', 'system-ui', 'sans-serif'],
            body: ['Inter', 'system-ui', 'sans-serif']
          },
          boxShadow: {
            brand: '0 15px 35px rgba(230, 57, 70, 0.28)'
          }
        }
      }
    };
    </script>
    <style type="text/tailwindcss">
      @layer components {
        .btn-primary {
          @apply inline-flex items-center justify-center rounded-full bg-brand-red px-6 py-3 font-semibold text-white shadow-md transition-all duration-200 ease-out hover:-translate-y-0.5 hover:bg-brand-red/90 hover:shadow-brand hover:scale-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-red;
        }
        .btn-outline {
          @apply inline-flex items-center justify-center rounded-full border border-brand-red/70 px-6 py-3 font-semibold text-brand-red transition-all duration-200 ease-out hover:-translate-y-0.5 hover:bg-brand-red/10 hover:text-brand-slate hover:scale-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-red;
        }
        .business-card {
          @apply rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-lg hover:border-gray-300 flex flex-col h-full;
        }
      }
    </style>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://srilankansinoman.com/#organization",
          "name": "SriLankansInOman.com",
          "url": "https://srilankansinoman.com/",
          "logo": "https://srilankansinoman.com/assets/icons/logo.png",
            "sameAs": [
              "https://wa.me/message/RNHXTFFSGIUKK1"
            ],
          "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "areaServed": "OM",
            "availableLanguage": [
              "en"
            ],
            "telephone": "+00000000000",
            "url": "https://srilankansinoman.com/contact"
          }
        },
        {
          "@type": "WebSite",
          "@id": "https://srilankansinoman.com/#website",
          "url": "https://srilankansinoman.com/",
          "name": "SriLankansInOman.com",
          "publisher": {
            "@id": "https://srilankansinoman.com/#organization"
          },
          "potentialAction": {
            "@type": "SearchAction",
            "target": "https://srilankansinoman.com/?s={search_term_string}",
            "query-input": "required name=search_term_string"
          }
        },
        {
          "@type": "WebPage",
          "@id": "https://srilankansinoman.com/business-directory#webpage",
          "url": "https://srilankansinoman.com/business-directory",
          "name": "Business Directory â€“ SriLankansInOman.com",
          "description": "Browse and discover Sri Lankan-owned businesses in Oman.",
          "inLanguage": "en",
          "isPartOf": {
            "@id": "https://srilankansinoman.com/#website"
          },
          "about": {
            "@id": "https://srilankansinoman.com/#organization"
          },
          "primaryImageOfPage": {
            "@type": "ImageObject",
            "url": "https://srilankansinoman.com/assets/img/og-image.jpg",
            "width": 1200,
            "height": 630
          }
        },
        {
          "@type": "ItemList",
          "@id": "https://srilankansinoman.com/business-directory#businesslist",
          "itemListElement": [
            {
              "@type": "LocalBusiness",
              "name": "Techno Computer SPC",
              "owner": {
                "@type": "Person",
                "name": "Mohamed Binsheed"
              },
              "url": "http://technocomputer.om/",
              "email": "info@technocomputer.om",
              "address": {
                "@type": "PostalAddress",
                "addressLocality": "Ruwi",
                "addressCountry": "OM"
              }
            }
          ]
        }
      ]
    }
  </script>
</head>
<body class="bg-brand-light font-body text-brand-slate">
  <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:rounded-full focus:bg-brand-red focus:px-4 focus:py-2 focus:text-white focus:shadow-lg focus:outline-none">Skip to main content</a>
  <!-- Header -->
<header class="border-b border-gray-100 bg-white/90 backdrop-blur">
  <div class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-6 py-5">
    <a href="index.html" class="flex items-center gap-3" aria-label="SriLankansInOman logo">
      <img src="assets/icons/logo.png" alt="SriLankansInOman logo mark" class="h-10 w-10 rounded-xl border border-brand-red/20" />
      <span class="text-3xl font-bold tracking-tight text-brand-slate">SriLankansInOman</span>
    </a>
    <button type="button" class="lg:hidden rounded-full border border-brand-slate/20 p-2 text-brand-slate transition hover:border-brand-red hover:text-brand-red focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-red" aria-label="Toggle navigation" aria-expanded="false" aria-controls="mobileNav" data-nav-toggle="mobileNav">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7h16M4 12h16M4 17h16"></path>
      </svg>
    </button>
    <nav class="hidden lg:flex flex-col gap-2 text-sm font-medium text-brand-slate" aria-label="Primary navigation">
      <div class="flex flex-wrap items-center gap-3">
        <span class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Main</span>
        <div class="flex flex-wrap items-center gap-4">
          <a href="index.html" class="transition hover:text-brand-red">Home</a>
          <a href="exchange-rates.html" class="transition hover:text-brand-red">Exchange Rates</a>
          <a href="business-directory.html" class="transition hover:text-brand-red text-brand-red font-semibold" aria-current="page">Business Directory</a>
        </div>
      </div>
      <div class="flex flex-wrap items-center gap-3">
        <span class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Community</span>
        <div class="flex flex-wrap items-center gap-4">
          <a href="bank-representatives.html" class="transition hover:text-brand-red">Bank Representatives</a>
          <a href="https://market.srilankansinoman.com/" class="transition hover:text-brand-red" target="_blank" rel="noopener">Marketplace</a>
          <a href="contact.html" class="transition hover:text-brand-red">Contact</a>
        </div>
      </div>
    </nav>
  </div>
  <nav id="mobileNav" class="border-t border-gray-100 bg-white px-6 text-sm font-medium text-brand-slate lg:hidden overflow-hidden transition-all duration-300 ease-in-out max-h-0 opacity-0 pointer-events-none py-0" aria-label="Mobile navigation">
    <div class="flex flex-col gap-6 py-4">
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Main</p>
        <div class="mt-2 flex flex-col gap-2">
          <a href="index.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Home</a>
          <a href="exchange-rates.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Exchange Rates</a>
          <a href="business-directory.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red text-brand-red font-semibold" aria-current="page">Business Directory</a>
        </div>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Community</p>
        <div class="mt-2 flex flex-col gap-2">
          <a href="bank-representatives.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Bank Representatives</a>
          <a href="https://market.srilankansinoman.com/" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red" target="_blank" rel="noopener">Marketplace</a>
          <a href="contact.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Contact</a>
        </div>
      </div>
    </div>
  </nav>
</header>

  <main id="main-content">
      <!-- Hero Section -->
      <section class="relative overflow-hidden bg-gradient-to-b from-brand-light to-white">
        <div class="absolute inset-0 opacity-20">
          <img src="assets/img/business-directory-image.jpg" alt="Sri Lankan business community backdrop" class="h-full w-full object-cover" loading="lazy" />
          <div class="absolute inset-0 bg-gradient-to-b from-brand-light/80 via-white/40 to-white"></div>
        </div>
        <div class="relative z-10 mx-auto max-w-6xl px-6 py-16 text-center">
          <p class="text-xs uppercase tracking-[0.4em] text-brand-red font-semibold">Community Businesses</p>
          <h1 class="mt-4 text-3xl font-bold tracking-tight text-brand-slate sm:text-4xl md:text-5xl">Sri Lankan Business Directory</h1>
          <p class="mt-4 max-w-2xl mx-auto leading-relaxed text-brand-slate/80">Discover trusted businesses owned by Sri Lankans in Oman. Support our community entrepreneurs.</p>
        </div>
      </section>

    <!-- Search Bar -->
    <section class="bg-white border-y border-gray-100">
      <div class="mx-auto max-w-6xl px-6 py-8">
        <div class="relative">
          <input 
            type="text" 
            id="searchInput" 
            placeholder="Search businesses by name, owner, location, or service..." 
            class="w-full rounded-full border border-gray-300 px-6 py-4 pl-12 pr-4 text-brand-slate placeholder:text-brand-slate/50 focus:border-brand-red focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all"
            aria-label="Search businesses"
          />
          <svg class="absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-brand-slate/40" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
        <div id="resultsCount" class="mt-4 text-sm text-brand-slate/70"></div>
      </div>
    </section>

    <!-- Business Directory -->
    <section class="bg-brand-light">
      <div class="mx-auto max-w-6xl px-6 py-16">
        <div id="businessesContainer" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          <!-- Business cards will be inserted here by JavaScript -->
        </div>
        <div id="noResults" class="hidden text-center py-12">
          <p class="text-lg text-brand-slate/70">No businesses found matching your search.</p>
          <p class="mt-2 text-sm text-brand-slate/60">Try different keywords or browse all businesses.</p>
        </div>
      </div>
    </section>

    <!-- Add Your Business CTA -->
    <section class="bg-gradient-to-br from-brand-red to-brand-red/80 text-white">
      <div class="mx-auto flex max-w-5xl flex-col items-center gap-4 px-6 py-16 text-center">
        <h3 class="text-2xl font-bold tracking-tight text-white">Own a Business?</h3>
        <p class="leading-relaxed text-white/80">Add your Sri Lankan-owned business to our directory and connect with the community.</p>
        <a href="https://wa.me/message/RNHXTFFSGIUKK1" target="_blank" rel="noopener" class="btn-outline border-white text-white hover:bg-white hover:text-brand-slate">Contact Us to Add Your Business</a>
      </div>
    </section>
  </main>

  <!-- Footer -->
<footer class="border-t border-gray-100 bg-white">
  <div class="mx-auto max-w-6xl px-6 py-12 text-sm text-brand-slate/80">
    <div class="grid gap-10 md:grid-cols-3 lg:grid-cols-4">
      <div>
        <p class="text-2xl font-bold tracking-tight text-brand-slate">SriLankansInOman</p>
        <p class="mt-3 text-sm leading-relaxed text-brand-slate/70">A personal initiative to make it easier for Sri Lankan expats in Oman to find reliable information, services, and community-led support.</p>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Explore</p>
        <div class="mt-3 flex flex-col gap-2">
          <a href="index.html" class="transition hover:text-brand-red">Home</a>
          <a href="exchange-rates.html" class="transition hover:text-brand-red">Exchange Rates</a>
          <a href="business-directory.html" class="transition hover:text-brand-red">Business Directory</a>
          <a href="bank-representatives.html" class="transition hover:text-brand-red">Bank Representatives</a>
        </div>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Community</p>
        <div class="mt-3 flex flex-col gap-2">
          <a href="https://market.srilankansinoman.com/" target="_blank" rel="noopener" class="transition hover:text-brand-red">Marketplace</a>
          <a href="contact.html" class="transition hover:text-brand-red">Contact</a>
          <a href="https://wa.me/message/RNHXTFFSGIUKK1" target="_blank" rel="noopener" class="transition hover:text-brand-red">WhatsApp Updates</a>
        </div>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Legal & Resources</p>
        <div class="mt-3 flex flex-col gap-2">
          <a href="privacy.html" class="transition hover:text-brand-red">Privacy Policy</a>
          <a href="terms.html" class="transition hover:text-brand-red">Terms & Conditions</a>
          <a href="sitemap.xml" class="transition hover:text-brand-red">Sitemap</a>
        </div>
      </div>
    </div>
    <div class="mt-10 flex flex-col gap-3 border-t border-gray-100 pt-6 text-center text-xs text-brand-slate/60 md:flex-row md:items-center md:justify-between md:text-left">
      <div>&copy; <span id="year"></span> SriLankansInOman.com. All rights reserved.</div>
      <div>Powered by <a href="https://www.fikrfusion.com/" target="_blank" rel="noopener" class="font-medium text-brand-slate hover:text-brand-red">FikrFusion</a></div>
    </div>
  </div>
</footer>

  <!-- Theme Switcher Button -->
  <button 
    type="button" 
    class="theme-switcher" 
    aria-label="Toggle theme" 
    title="Switch between themes"
    id="themeSwitcher"
  >
    ðŸŽ¨
  </button>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- Business Data -->
  <script>
    const businesses = [
      {
        id: 1,
        companyName: "Techno Computer SPC",
        ownerName: "Mohamed Binsheed",
        description: "Computer sales, repairs, and IT services",
        whatsapp: "92349612",
        locationUrl: "https://maps.app.goo.gl/tC7bZfyQLwh8xpiT7",
        landmarks: ["Mbd Ruwi", "Next to annapoorana restaurant"],
        website: "http://technocomputer.om/",
        email: "info@technocomputer.om",
        logo: "assets/img/company_logos/techno_computers.jpeg"
      }
      // Add more businesses here as needed
    ];

    function formatWhatsAppLink(whatsapp) {
      // Remove any spaces, dashes, or special characters
      const cleaned = whatsapp.replace(/\D/g, '');
      // If it doesn't start with country code, assume it's Oman (+968)
      if (cleaned.length === 8) {
        return `https://wa.me/968${cleaned}`;
      }
      return `https://wa.me/${cleaned}`;
    }

    function generateShareMessage(business) {
      const landmarksText = business.landmarks && business.landmarks.length > 0
        ? business.landmarks.join(', ')
        : '';
      
      let message = `*${business.companyName}*\n\n`;
      message += `${business.ownerName}\n\n`;
      
      if (business.description) {
        message += `${business.description}\n\n`;
      }
      
      if (business.whatsapp) {
        message += `WhatsApp: ${business.whatsapp}\n`;
      }
      
      if (business.email) {
        message += `Email: ${business.email}\n`;
      }
      
      if (business.website) {
        const cleanWebsite = business.website.replace(/^https?:\/\//, '').replace(/\/$/, '');
        message += `Website: ${cleanWebsite}\n`;
      }
      
      if (business.locationUrl || landmarksText) {
        message += `Location: `;
        if (landmarksText) {
          message += landmarksText;
        }
        if (business.locationUrl) {
          message += ` ${business.locationUrl}`;
        }
        message += `\n`;
      }
      
      message += `\nFound on SriLankansInOman.com Business Directory`;
      
      return encodeURIComponent(message);
    }
    
    function getShareUrl(business) {
      const message = generateShareMessage(business);
      return `https://wa.me/?text=${message}`;
    }

    function renderBusinesses(businessesToRender) {
      const container = document.getElementById('businessesContainer');
      const noResults = document.getElementById('noResults');
      
      if (businessesToRender.length === 0) {
        container.classList.add('hidden');
        noResults.classList.remove('hidden');
        return;
      }

      container.classList.remove('hidden');
      noResults.classList.add('hidden');

      container.innerHTML = businessesToRender.map(business => {
        const whatsappLink = formatWhatsAppLink(business.whatsapp);
        const landmarksText = business.landmarks && business.landmarks.length > 0
          ? business.landmarks.join(', ')
          : '';

        return `
          <div class="business-card" data-business-id="${business.id}">
            <div class="flex items-start gap-5 mb-5 relative">
              <div class="flex-shrink-0 w-24 h-24 rounded-lg border border-gray-200 bg-white flex items-center justify-center overflow-hidden shadow-sm">
                ${business.logo 
                  ? `<img src="${business.logo}" alt="${business.companyName} logo" class="w-full h-full object-contain p-2" />`
                  : `<div class="w-full h-full bg-gray-50 flex items-center justify-center">
                      <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                      </svg>
                    </div>`
                }
              </div>
              <div class="flex-1 min-w-0 pt-1">
                <h3 class="text-xl font-semibold text-brand-slate mb-1.5 leading-tight">${business.companyName}</h3>
                <p class="text-sm text-brand-slate/60">${business.ownerName}</p>
              </div>
            </div>
            
            <div class="border-t border-gray-100 pt-5 space-y-3 flex-1 flex flex-col">
              ${business.locationUrl ? `
                <div class="flex items-start gap-3">
                  <svg class="w-5 h-5 text-brand-slate/40 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                  </svg>
                  <div class="flex-1 min-w-0">
                    <a href="${business.locationUrl}" target="_blank" rel="noopener" class="text-sm text-brand-slate/80 hover:text-brand-red transition font-medium block mb-1">View Location on Map</a>
                    ${landmarksText ? `<p class="text-xs text-brand-slate/60 leading-relaxed">${landmarksText}</p>` : ''}
                  </div>
                </div>
              ` : landmarksText ? `
                <div class="flex items-start gap-3">
                  <svg class="w-5 h-5 text-brand-slate/40 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                  </svg>
                  <p class="text-xs text-brand-slate/60 leading-relaxed">${landmarksText}</p>
                </div>
              ` : ''}
              
              ${business.whatsapp ? `
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-brand-slate/40 flex-shrink-0" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                  </svg>
                  <a href="${whatsappLink}" target="_blank" rel="noopener" class="text-sm text-brand-slate/80 hover:text-brand-red transition font-medium">${business.whatsapp}</a>
                </div>
              ` : ''}
              
              ${business.website ? `
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-brand-slate/40 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>
                  </svg>
                  <a href="${business.website}" target="_blank" rel="noopener" class="text-sm text-brand-slate/80 hover:text-brand-red transition font-medium">${business.website.replace(/^https?:\/\//, '').replace(/\/$/, '')}</a>
                </div>
              ` : ''}
              
              ${business.email ? `
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-brand-slate/40 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                  </svg>
                  <a href="mailto:${business.email}" class="text-sm text-brand-slate/80 hover:text-brand-red transition font-medium">${business.email}</a>
                </div>
              ` : ''}
              
              <div class="mt-4 pt-4 border-t border-gray-200 flex items-center gap-3">
                <svg class="w-4 h-4 text-brand-slate/40 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>
                </svg>
                <a href="${getShareUrl(business)}" target="_blank" rel="noopener" class="text-sm text-brand-slate/70 hover:text-brand-red transition font-medium">Share Business</a>
              </div>
              
              ${business.description ? `
                <div class="mt-auto pt-4 border-t border-gray-100">
                  <p class="text-xs text-brand-slate/60 leading-relaxed">${business.description}</p>
                </div>
              ` : ''}
            </div>
          </div>
        `;
      }).join('');
    }

    function filterBusinesses(searchTerm) {
      if (!searchTerm.trim()) {
        return businesses;
      }

      const term = searchTerm.toLowerCase();
      return businesses.filter(business => {
        const companyName = (business.companyName || '').toLowerCase();
        const ownerName = (business.ownerName || '').toLowerCase();
        const description = (business.description || '').toLowerCase();
        const landmarks = (business.landmarks || []).join(' ').toLowerCase();
        const email = (business.email || '').toLowerCase();
        
        return companyName.includes(term) ||
               ownerName.includes(term) ||
               description.includes(term) ||
               landmarks.includes(term) ||
               email.includes(term);
      });
    }

    function updateResultsCount(count) {
      const resultsCount = document.getElementById('resultsCount');
      if (count === businesses.length) {
        resultsCount.textContent = `Showing all ${count} ${count === 1 ? 'business' : 'businesses'}`;
      } else {
        resultsCount.textContent = `Found ${count} ${count === 1 ? 'business' : 'businesses'} matching your search`;
      }
    }

    // Initialize with all businesses
    renderBusinesses(businesses);
    updateResultsCount(businesses.length);

    // Search functionality
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', (e) => {
      const searchTerm = e.target.value;
      const filtered = filterBusinesses(searchTerm);
      renderBusinesses(filtered);
      updateResultsCount(filtered.length);
    });
  </script>

  <script>
    // Theme Switcher Functionality - Cycles through 4 themes
    (function() {
      const themeSwitcher = document.getElementById('themeSwitcher');
      const html = document.documentElement;
      
      const themes = [
        { name: 'default', icon: 'ðŸŽ¨', title: 'Default Theme' },
        { name: 'heritage', icon: 'ðŸ›ï¸', title: 'Heritage Theme (Sri Lankan & Omani Flags)' },
        { name: 'tea-desert', icon: 'ðŸŒ¿', title: 'Tea & Desert Theme' },
        { name: 'ocean-breeze', icon: 'ðŸŒŠ', title: 'Ocean Breeze Theme' }
      ];
      
      // Get saved theme or default to 'default'
      const getTheme = () => {
        return localStorage.getItem('theme') || 'default';
      };
      
      // Get current theme index
      const getCurrentThemeIndex = () => {
        const currentTheme = getTheme();
        const index = themes.findIndex(t => t.name === currentTheme);
        return index >= 0 ? index : 0;
      };
      
      // Set theme
      const setTheme = (themeName) => {
        const theme = themes.find(t => t.name === themeName) || themes[0];
        
        if (themeName === 'default') {
          html.removeAttribute('data-theme');
        } else {
          html.setAttribute('data-theme', themeName);
        }
        
        themeSwitcher.textContent = theme.icon;
        themeSwitcher.title = theme.title;
        localStorage.setItem('theme', themeName);
      };
      
      // Initialize theme on page load
      const currentTheme = getTheme();
      setTheme(currentTheme);
      
      // Cycle through themes on button click
      themeSwitcher.addEventListener('click', () => {
        const currentIndex = getCurrentThemeIndex();
        const nextIndex = (currentIndex + 1) % themes.length;
        const nextTheme = themes[nextIndex];
        setTheme(nextTheme.name);
      });
    })();
  </script>
  <script>
    (function () {
      const toggles = document.querySelectorAll('[data-nav-toggle]');

      toggles.forEach((toggle) => {
        const targetId = toggle.getAttribute('data-nav-toggle');
        const nav = document.getElementById(targetId);
        if (!nav) return;

        const setState = (isOpen) => {
          toggle.setAttribute('aria-expanded', String(isOpen));
          nav.classList.toggle('max-h-64', isOpen);
          nav.classList.toggle('opacity-100', isOpen);
          nav.classList.toggle('pointer-events-auto', isOpen);
          nav.classList.toggle('py-4', isOpen);
          nav.classList.toggle('max-h-0', !isOpen);
          nav.classList.toggle('opacity-0', !isOpen);
          nav.classList.toggle('pointer-events-none', !isOpen);
          nav.classList.toggle('py-0', !isOpen);
        };

        setState(false);

        toggle.addEventListener('click', () => {
          const expanded = toggle.getAttribute('aria-expanded') === 'true';
          setState(!expanded);
        });

        nav.querySelectorAll('a').forEach((link) => {
          link.addEventListener('click', () => setState(false));
        });
      });
    })();
  </script>
</body>
</html>

