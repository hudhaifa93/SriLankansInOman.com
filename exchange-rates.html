<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exchange Rates â€“ Sri Lankan OMR â‡„ LKR Updates | SriLankansInOman.com</title>
  <meta name="description" content="Check the latest Sri Lankan rupee exchange rates shared by trusted Lankan representatives in Oman. Compare OMR â‡„ LKR send and receive rates, contact info, and update times." />
  <meta name="keywords" content="Sri Lankan exchange rates Oman, OMR to LKR rate, Sri Lankan money exchange Oman, Sri Lankan remittance Oman" />
  <link rel="canonical" href="https://srilankansinoman.com/exchange-rates" />
  <!-- IIS caching hint: configure <staticContent> clientCache max-age for at least 7 days to leverage browser caching on static assets. -->
  <link rel="preload" as="image" href="assets/icons/logo.png" type="image/png" />
  <link rel="preload" as="font" href="https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTcH4Wxn45Q.woff2" type="font/woff2" crossorigin />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="icon" href="assets/icons/favicon.svg" type="image/svg+xml" />
  <meta property="og:title" content="Exchange Rates â€“ Sri Lankan OMR â‡„ LKR Updates" />
  <meta property="og:description" content="Community powered exchange rate board from Sri Lankan representatives in Oman. Compare OMR â‡„ LKR quotes and contact verified reps." />
  <meta property="og:url" content="https://srilankansinoman.com/exchange-rates" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/assets/img/og-image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Exchange Rates â€“ Sri Lankan OMR â‡„ LKR Updates" />
  <meta name="twitter:description" content="Latest OMR â‡„ LKR exchange rates contributed by Sri Lankan representatives in Oman." />
  <meta name="twitter:image" content="/assets/img/og-image.png" />
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" as="style" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" media="print" onload="this.media='all'" />
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" />
  </noscript>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-BYNFTJ6QP1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-BYNFTJ6QP1');
  </script>
  <link rel="stylesheet" href="assets/css/custom.css" />
  <link rel="stylesheet" href="assets/css/theme-heritage.css" />
  <link rel="stylesheet" href="assets/css/theme-tea-desert.css" />
  <link rel="stylesheet" href="assets/css/theme-ocean-breeze.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'brand-red': '#E63946',
            'brand-slate': '#1F2A37',
            'brand-light': '#F8FAFC'
          },
          fontFamily: {
            display: ['Inter', 'system-ui', 'sans-serif'],
            body: ['Inter', 'system-ui', 'sans-serif']
          },
          boxShadow: {
            brand: '0 15px 35px rgba(230, 57, 70, 0.28)'
          }
        }
      }
    };
  </script>
  <style type="text/tailwindcss">
    @layer components {
      .btn-primary {
        @apply inline-flex items-center justify-center rounded-full bg-brand-red px-6 py-3 font-semibold text-white shadow-md transition-all duration-200 ease-out hover:-translate-y-0.5 hover:bg-brand-red/90 hover:shadow-brand hover:scale-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-red;
      }
      .btn-outline {
        @apply inline-flex items-center justify-center rounded-full border border-brand-red/70 px-6 py-3 font-semibold text-brand-red transition-all duration-200 ease-out hover:-translate-y-0.5 hover:bg-brand-red/10 hover:text-brand-slate hover:scale-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-red;
      }
      .rate-card {
        @apply rounded-3xl border border-gray-100 bg-white p-6 shadow-sm transition-all duration-200 hover:-translate-y-1 hover:shadow-xl flex flex-col h-full;
      }
    }
  </style>
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://srilankansinoman.com/#organization",
          "name": "SriLankansInOman.com",
          "url": "https://srilankansinoman.com/",
          "logo": "https://srilankansinoman.com/assets/icons/logo.png",
          "sameAs": [
            "https://wa.me/message/RNHXTFFSGIUKK1"
          ],
          "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "areaServed": "OM",
            "availableLanguage": [
              "en"
            ],
            "telephone": "+00000000000",
            "url": "https://srilankansinoman.com/contact"
          }
        },
        {
          "@type": "WebSite",
          "@id": "https://srilankansinoman.com/#website",
          "url": "https://srilankansinoman.com/",
          "name": "SriLankansInOman.com",
          "publisher": {
            "@id": "https://srilankansinoman.com/#organization"
          },
          "potentialAction": {
            "@type": "SearchAction",
            "target": "https://srilankansinoman.com/?s={search_term_string}",
            "query-input": "required name=search_term_string"
          }
        },
        {
          "@type": "WebPage",
          "@id": "https://srilankansinoman.com/exchange-rates#webpage",
          "url": "https://srilankansinoman.com/exchange-rates",
          "name": "Exchange Rates â€“ Sri Lankan OMR â‡„ LKR Updates",
          "description": "Community curated exchange rate board highlighting OMR â‡„ LKR quotes from Sri Lankan representatives in Oman.",
          "inLanguage": "en",
          "isPartOf": {
            "@id": "https://srilankansinoman.com/#website"
          },
          "about": {
            "@id": "https://srilankansinoman.com/#organization"
          },
          "primaryImageOfPage": {
            "@type": "ImageObject",
            "url": "https://srilankansinoman.com/assets/img/og-image.png",
            "width": 1200,
            "height": 630
          }
        },
        {
          "@type": "Dataset",
          "@id": "https://srilankansinoman.com/exchange-rates#dataset",
          "name": "Sri Lankan Rupee Exchange Rates in Oman",
          "description": "Latest OMR â‡„ LKR exchange rates submitted by community representatives in Oman.",
          "creator": {
            "@id": "https://srilankansinoman.com/#organization"
          },
          "inLanguage": "en",
          "license": "https://creativecommons.org/licenses/by/4.0/",
          "temporalCoverage": "2025-11-18/2025-11-20",
          "variableMeasured": [
            {
              "@type": "PropertyValue",
              "name": "buyRate",
              "unitText": "LKR per OMR"
            }
          ],
          "distribution": [
            {
              "@type": "DataDownload",
              "encodingFormat": "text/html",
              "contentUrl": "https://srilankansinoman.com/exchange-rates"
            }
          ]
        },
        {
          "@type": "ItemList",
          "@id": "https://srilankansinoman.com/exchange-rates#ratelist",
          "name": "Community Exchange Rate Quotes",
          "itemListElement": [
            {
              "@type": "ExchangeRateSpecification",
              "position": 1,
              "name": "OMR to LKR â€“ Lanka Remit Desk",
              "currency": "OMR",
              "exchangeRateCurrency": "LKR",
              "rateType": "Cash + Bank Transfer",
              "currentExchangeRate": {
                "@type": "UnitPriceSpecification",
                "price": 872.45,
                "priceCurrency": "LKR"
              },
              "url": "https://srilankansinoman.com/exchange-rates#rep-lanka-remit"
            },
            {
              "@type": "ExchangeRateSpecification",
              "position": 2,
              "name": "OMR to LKR â€“ Seylan Partner",
              "currency": "OMR",
              "exchangeRateCurrency": "LKR",
              "rateType": "Bank Transfer",
              "currentExchangeRate": {
                "@type": "UnitPriceSpecification",
                "price": 870.10,
                "priceCurrency": "LKR"
              },
              "url": "https://srilankansinoman.com/exchange-rates#rep-seylan-partner"
            },
            {
              "@type": "ExchangeRateSpecification",
              "position": 3,
              "name": "OMR to LKR â€“ Community Volunteer",
              "currency": "OMR",
              "exchangeRateCurrency": "LKR",
              "rateType": "Community Rate",
              "currentExchangeRate": {
                "@type": "UnitPriceSpecification",
                "price": 868.90,
                "priceCurrency": "LKR"
              },
              "url": "https://srilankansinoman.com/exchange-rates#rep-community-ghubra"
            }
          ]
        }
      ]
    }
  </script>
</head>
<body class="bg-brand-light font-body text-brand-slate">
  <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:rounded-full focus:bg-brand-red focus:px-4 focus:py-2 focus:text-white focus:shadow-lg focus:outline-none">Skip to main content</a>
  <!-- Header -->
<header class="border-b border-gray-100 bg-white/90 backdrop-blur">
  <div class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-6 py-5">
    <a href="index.html" class="flex items-center gap-3" aria-label="SriLankansInOman logo">
      <img src="assets/icons/logo.png" alt="SriLankansInOman logo mark" class="h-10 w-10 rounded-xl border border-brand-red/20" />
      <span class="text-3xl font-bold tracking-tight text-brand-slate">SriLankansInOman</span>
    </a>
    <button type="button" class="lg:hidden rounded-full border border-brand-slate/20 p-2 text-brand-slate transition hover:border-brand-red hover:text-brand-red focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-red" aria-label="Toggle navigation" aria-expanded="false" aria-controls="mobileNav" data-nav-toggle="mobileNav">
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7h16M4 12h16M4 17h16"></path>
      </svg>
    </button>
    <nav class="hidden lg:flex flex-col gap-2 text-sm font-medium text-brand-slate" aria-label="Primary navigation">
      <div class="flex flex-wrap items-center gap-3">
        <span class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Main</span>
        <div class="flex flex-wrap items-center gap-4">
          <a href="index.html" class="transition hover:text-brand-red">Home</a>
          <a href="exchange-rates.html" class="transition hover:text-brand-red text-brand-red font-semibold" aria-current="page">Exchange Rates</a>
          <a href="business-directory.html" class="transition hover:text-brand-red">Business Directory</a>
        </div>
      </div>
      <div class="flex flex-wrap items-center gap-3">
        <span class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Community</span>
        <div class="flex flex-wrap items-center gap-4">
          <a href="bank-representatives.html" class="transition hover:text-brand-red">Bank Representatives</a>
          <a href="https://market.srilankansinoman.com/" class="transition hover:text-brand-red" target="_blank" rel="noopener">Marketplace</a>
          <a href="contact.html" class="transition hover:text-brand-red">Contact</a>
        </div>
      </div>
    </nav>
  </div>
  <nav id="mobileNav" class="border-t border-gray-100 bg-white px-6 text-sm font-medium text-brand-slate lg:hidden overflow-hidden transition-all duration-300 ease-in-out max-h-0 opacity-0 pointer-events-none py-0" aria-label="Mobile navigation">
    <div class="flex flex-col gap-6 py-4">
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Main</p>
        <div class="mt-2 flex flex-col gap-2">
          <a href="index.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Home</a>
          <a href="exchange-rates.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red text-brand-red font-semibold" aria-current="page">Exchange Rates</a>
          <a href="business-directory.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Business Directory</a>
        </div>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Community</p>
        <div class="mt-2 flex flex-col gap-2">
          <a href="bank-representatives.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Bank Representatives</a>
          <a href="https://market.srilankansinoman.com/" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red" target="_blank" rel="noopener">Marketplace</a>
          <a href="contact.html" class="block rounded-full border border-transparent px-4 py-2 text-left transition hover:text-brand-red">Contact</a>
        </div>
      </div>
    </div>
  </nav>
</header>

  <main id="main-content">
    <!-- Hero Section -->
    <section class="relative overflow-hidden bg-gradient-to-b from-brand-light to-white">
      <div class="absolute inset-0 opacity-20">
        <img src="assets/img/business-directory-image.jpg" alt="Currency update background" class="h-full w-full object-cover" loading="lazy" />
        <div class="absolute inset-0 bg-gradient-to-b from-brand-light/80 via-white/40 to-white"></div>
      </div>
      <div class="relative z-10 mx-auto flex max-w-6xl flex-col items-center gap-6 px-6 py-20 text-center">
        <p class="text-xs uppercase tracking-[0.4em] text-brand-red font-semibold">OMR â‡„ LKR Updates</p>
        <h1 class="text-3xl font-bold tracking-tight text-brand-slate sm:text-4xl md:text-5xl">Sri Lankan Exchange Rate Board</h1>
        <p class="max-w-2xl text-base md:text-lg leading-relaxed text-brand-slate/80">Compare daily exchange rates shared by Sri Lankan representatives operating across Muscat and beyond. Use this board to confirm community rates before transferring money to Sri Lanka.</p>
        <div class="flex flex-wrap items-center justify-center gap-4">
          <a href="#ratesBoard" class="btn-primary">View Rates</a>
          <a href="https://wa.me/message/RNHXTFFSGIUKK1" target="_blank" rel="noopener" class="btn-outline">Submit/Update a Rate</a>
        </div>
        <p class="text-xs text-brand-slate/60">Always verify with the representative before making a payment. Rates change multiple times per day.</p>
      </div>
    </section>

    <!-- Search -->
    <section class="bg-brand-light">
      <div class="mx-auto max-w-6xl px-6 py-10">
        <div class="flex flex-col gap-4 text-center">
          <h2 class="text-2xl font-bold tracking-tight text-brand-slate">Find a Representative</h2>
          <p class="text-sm text-brand-slate/70">Search by representative, company, city, notes, or rate type to compare quotes.</p>
        </div>
        <div class="mt-8">
          <div class="relative">
            <input 
              type="text" 
              id="searchInput" 
              placeholder="Search representatives, companies, or cities..." 
              class="w-full rounded-full border border-gray-300 px-6 py-4 pl-12 pr-4 text-brand-slate placeholder:text-brand-slate/50 focus:border-brand-red focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all"
              aria-label="Search exchange rates"
            />
            <svg class="absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-brand-slate/40" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
          <div id="resultsCount" class="mt-4 text-sm text-brand-slate/70"></div>
        </div>
      </div>
    </section>

    <!-- Rates Board -->
    <section id="ratesBoard" class="bg-white">
      <div class="mx-auto max-w-6xl px-6 py-16">
        <div id="ratesContainer" class="grid gap-6 md:grid-cols-2">
          <!-- Cards injected via JS -->
        </div>
        <div id="noResults" class="hidden text-center py-12">
          <p class="text-lg text-brand-slate/70">No representatives found for that search.</p>
          <p class="mt-2 text-sm text-brand-slate/60">Try another keyword or clear the filter.</p>
        </div>
        <div class="mt-10 rounded-3xl border border-brand-red/10 bg-brand-light/70 p-6 text-sm text-brand-slate/70">
          <p class="font-semibold text-brand-slate">Important:</p>
          <ul class="mt-3 space-y-2 list-disc list-inside">
            <li>These rates are community submissions. Confirm the exact rate and transfer fee directly with the representative.</li>
            <li>Share proof of Omani residency/salary if asked. Representatives may request documents to comply with money transfer rules.</li>
            <li>Let us know via WhatsApp if a rate is outdated so we can keep the board accurate.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Update CTA -->
    <section class="bg-gradient-to-br from-brand-red to-brand-red/80 text-white">
      <div class="mx-auto max-w-5xl px-6 py-16 text-center">
        <h3 class="text-2xl font-bold tracking-tight">Represent a Bank or Exchange?</h3>
        <p class="mt-3 text-white/80">Submit your latest OMR â‡„ LKR rates, service coverage, and contact details. Verified Sri Lankan representatives in Oman can be featured here for free.</p>
        <div class="mt-6 flex flex-wrap justify-center gap-4">
          <a href="https://wa.me/message/RNHXTFFSGIUKK1" target="_blank" rel="noopener" class="btn-outline border-white text-white hover:bg-white hover:text-brand-slate">Send Rates on WhatsApp</a>
          <a href="contact.html" class="btn-primary bg-white text-brand-red hover:bg-brand-light hover:text-brand-red">Talk to the Editor</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
<footer class="border-t border-gray-100 bg-white">
  <div class="mx-auto max-w-6xl px-6 py-12 text-sm text-brand-slate/80">
    <div class="grid gap-10 md:grid-cols-3 lg:grid-cols-4">
      <div>
        <p class="text-2xl font-bold tracking-tight text-brand-slate">SriLankansInOman</p>
        <p class="mt-3 text-sm leading-relaxed text-brand-slate/70">A personal initiative to make it easier for Sri Lankan expats in Oman to find reliable information, services, and community-led support.</p>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Explore</p>
        <div class="mt-3 flex flex-col gap-2">
          <a href="index.html" class="transition hover:text-brand-red">Home</a>
          <a href="exchange-rates.html" class="transition hover:text-brand-red">Exchange Rates</a>
          <a href="business-directory.html" class="transition hover:text-brand-red">Business Directory</a>
          <a href="bank-representatives.html" class="transition hover:text-brand-red">Bank Representatives</a>
        </div>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Community</p>
        <div class="mt-3 flex flex-col gap-2">
          <a href="https://market.srilankansinoman.com/" target="_blank" rel="noopener" class="transition hover:text-brand-red">Marketplace</a>
          <a href="contact.html" class="transition hover:text-brand-red">Contact</a>
          <a href="https://wa.me/message/RNHXTFFSGIUKK1" target="_blank" rel="noopener" class="transition hover:text-brand-red">WhatsApp Updates</a>
        </div>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.35em] text-brand-slate/50">Legal & Resources</p>
        <div class="mt-3 flex flex-col gap-2">
          <a href="privacy.html" class="transition hover:text-brand-red">Privacy Policy</a>
          <a href="terms.html" class="transition hover:text-brand-red">Terms & Conditions</a>
          <a href="sitemap.xml" class="transition hover:text-brand-red">Sitemap</a>
        </div>
      </div>
    </div>
    <div class="mt-10 flex flex-col gap-3 border-t border-gray-100 pt-6 text-center text-xs text-brand-slate/60 md:flex-row md:items-center md:justify-between md:text-left">
      <div>&copy; <span id="year"></span> SriLankansInOman.com. All rights reserved.</div>
      <div>Powered by <a href="https://www.fikrfusion.com/" target="_blank" rel="noopener" class="font-medium text-brand-slate hover:text-brand-red">FikrFusion</a></div>
    </div>
  </div>
</footer>

  <!-- Theme Switcher Button -->
  <button 
    type="button" 
    class="theme-switcher" 
    aria-label="Toggle theme" 
    title="Switch between themes"
    id="themeSwitcher"
  >
    ðŸŽ¨
  </button>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- Rates Data -->
  <script>
    const exchangeRates = [
      {
        id: 1,
        slug: 'rep-lanka-remit',
        representativeName: 'Sajith Perera',
        companyName: 'Lanka Remit Desk â€“ Muscat',
        city: 'Ruwi, Muscat',
        whatsapp: '96891234567',
        phone: '+968 24 662 120',
        email: 'sajith@lankaremit.lk',
        currencyPair: 'OMR â†’ LKR',
        buyRate: 872.45,
        rateType: 'Cash + Bank Transfer',
        lastUpdated: '2025-11-19T11:45:00+04:00',
        notes: 'Salary remittance support with bank credit within 6 hours.',
        services: ['Same-day credit', 'Central Bank compliant'],
        image: 'assets/img/business-directory-image.jpg'
      },
      {
        id: 2,
        slug: 'rep-seylan-partner',
        representativeName: 'Dilini Fernando',
        companyName: 'Seylan Lanka Exchange Partner',
        city: 'Al Khuwair, Muscat',
        whatsapp: '96891567890',
        phone: '+968 24 441 900',
        email: 'dilini@seylanexchange.com',
        currencyPair: 'OMR â†’ LKR',
        buyRate: 870.10,
        rateType: 'Bank Transfer',
        lastUpdated: '2025-11-19T09:20:00+04:00',
        notes: 'Handles Sri Lankan bank cash pickup and account credit via Seylan partners.',
        services: ['24/7 WhatsApp support', 'Cash pickup across Sri Lanka'],
        image: null
      },
      {
        id: 3,
        slug: 'rep-community-ghubra',
        representativeName: 'Manjula Jayasinghe',
        companyName: 'Community Volunteer â€“ Ghubra',
        city: 'Al Ghubra, Muscat',
        whatsapp: '96871904567',
        phone: '',
        email: '',
        currencyPair: 'OMR â†’ LKR',
        buyRate: 868.90,
        rateType: 'Community Rate',
        lastUpdated: '2025-11-18T18:05:00+04:00',
        notes: 'Shared voluntarily. Confirm availability before meeting.',
        services: ['Cash collection', 'Rate match for transfers above OMR 300'],
        image: 'assets/img/outline.png'
      }
    ];

    const formatter = new Intl.NumberFormat('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

    function formatWhatsAppLink(value) {
      if (!value) return null;
      const cleaned = value.replace(/\D/g, '');
      if (!cleaned) return null;
      if (cleaned.length === 8) {
        return `https://wa.me/968${cleaned}`;
      }
      if (cleaned.startsWith('968')) {
        return `https://wa.me/${cleaned}`;
      }
      return `https://wa.me/${cleaned}`;
    }

    function formatDateTime(value) {
      if (!value) return 'â€”';
      try {
        const date = new Date(value);
        return new Intl.DateTimeFormat('en-GB', {
          day: '2-digit',
          month: 'short',
          year: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        }).format(date) + ' GST';
      } catch (error) {
        return value;
      }
    }

    function generateShareMessage(rate) {
      let message = `*${rate.companyName}*\\n${rate.representativeName} (OMR â†’ LKR)\\n\\n`;
      message += `Send rate: ${formatter.format(rate.buyRate)} LKR for 1 OMR\\n`;
      if (rate.notes) {
        message += `Notes: ${rate.notes}\\n`;
      }
      message += '\\nShared via SriLankansInOman.com/exchange-rates';
      return encodeURIComponent(message);
    }

    function renderRates(list) {
      const container = document.getElementById('ratesContainer');
      const noResults = document.getElementById('noResults');

      if (!list.length) {
        container.classList.add('hidden');
        noResults.classList.remove('hidden');
        return;
      }

      container.classList.remove('hidden');
      noResults.classList.add('hidden');

        container.innerHTML = list.map(rate => {
          const whatsappLink = formatWhatsAppLink(rate.whatsapp);
          const shareUrl = `https://wa.me/?text=${generateShareMessage(rate)}`;

          return `
            <article class="rate-card" id="${rate.slug}">
              <div class="flex flex-wrap items-start gap-4">
                <div class="flex-shrink-0 w-20 h-20 rounded-2xl border border-gray-100 bg-white overflow-hidden flex items-center justify-center shadow-sm">
                  ${rate.image ? `<img src="${rate.image}" alt="${rate.companyName} logo" class="h-full w-full object-cover" loading="lazy" />` : `
                    <div class="w-full h-full bg-gray-50 flex items-center justify-center">
                      <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 11c0-1.657 1.343-3 3-3s3 1.343 3 3-1.343 3-3 3-3-1.343-3-3zm-6 8c0-2.761 2.462-5 5.5-5h1c3.038 0 5.5 2.239 5.5 5v1H6v-1z" />
                      </svg>
                    </div>`}
                </div>
                <div class="flex-1 min-w-0">
                  <p class="text-xs uppercase tracking-[0.3em] text-brand-red">Representative</p>
                  <h3 class="text-xl font-semibold text-brand-slate mt-1">${rate.representativeName}</h3>
                  <p class="text-sm text-brand-slate/70">${rate.companyName}</p>
                  <p class="text-xs text-brand-slate/50 mt-1">${rate.city}</p>
                </div>
                <span class="inline-flex items-center rounded-full bg-brand-light px-3 py-1 text-xs font-semibold text-brand-red">${rate.rateType}</span>
              </div>

              <div class="mt-6 rounded-2xl border border-brand-red/10 bg-brand-light/60 p-4">
                <p class="text-xs text-brand-slate/60">Send to Sri Lanka</p>
                <p class="mt-2 text-3xl font-semibold text-brand-slate">
                  ${formatter.format(rate.buyRate)}
                  <span class="text-sm font-normal text-brand-slate/60">LKR / 1 OMR</span>
                </p>
              </div>

              <dl class="mt-6 space-y-3 text-sm text-brand-slate/80">
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-brand-slate/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                  </svg>
                  <span>${rate.city}</span>
                </div>
                ${rate.email ? `
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-brand-slate/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    <a href="mailto:${rate.email}" class="text-brand-red hover:underline">${rate.email}</a>
                  </div>
                ` : ''}
                ${rate.phone ? `
                  <div class="flex items-center gap-3">
                    <svg class="w-5 h-5 text-brand-slate/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h2l3.6 7.59-1.35 2.45A1 1 0 008 17h10" />
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h7l-1.35-2.45M5 5h15M9 21h6" />
                    </svg>
                    <span>${rate.phone}</span>
                  </div>
                ` : ''}
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-brand-slate/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10m-12 8h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                  <span>Updated ${formatDateTime(rate.lastUpdated)}</span>
                </div>
              </dl>

              ${rate.services && rate.services.length ? `
                <div class="mt-6 flex flex-wrap gap-2">
                  ${rate.services.map(service => `<span class='rounded-full bg-brand-light px-3 py-1 text-xs text-brand-slate/80 border border-brand-red/10'>${service}</span>`).join('')}
                </div>
              ` : ''}

              ${rate.notes ? `<p class="mt-4 text-xs text-brand-slate/60 leading-relaxed">${rate.notes}</p>` : ''}

              <div class="mt-6 flex flex-wrap gap-3">
                ${whatsappLink ? `<a href="${whatsappLink}" target="_blank" rel="noopener" class="btn-primary text-sm">WhatsApp Representative</a>` : ''}
                <a href="${shareUrl}" target="_blank" rel="noopener" class="btn-outline text-sm">Share Rates</a>
              </div>
            </article>
          `;
        }).join('');
    }

    function filterRates(term) {
      if (!term.trim()) return exchangeRates;
      const needle = term.toLowerCase();
      return exchangeRates.filter(rate => {
        return [rate.representativeName, rate.companyName, rate.city, rate.notes, rate.rateType]
          .filter(Boolean)
          .some(field => field.toLowerCase().includes(needle));
      });
    }

    function updateResultsCount(count) {
      const el = document.getElementById('resultsCount');
      const total = exchangeRates.length;
      if (count === total) {
        el.textContent = `Showing all ${total} representative${total === 1 ? '' : 's'}`;
      } else {
        el.textContent = `Found ${count} of ${total} representative${count === 1 ? '' : 's'}`;
      }
    }

    renderRates(exchangeRates);
    updateResultsCount(exchangeRates.length);

    document.getElementById('searchInput').addEventListener('input', (event) => {
      const filtered = filterRates(event.target.value);
      renderRates(filtered);
      updateResultsCount(filtered.length);
    });
  </script>

  <script>
    // Theme Switcher Functionality - Cycles through 4 themes
    (function() {
      const themeSwitcher = document.getElementById('themeSwitcher');
      const html = document.documentElement;

      const themes = [
        { name: 'default', icon: 'ðŸŽ¨', title: 'Default Theme' },
        { name: 'heritage', icon: 'ðŸ›ï¸', title: 'Heritage Theme (Sri Lankan & Omani Flags)' },
        { name: 'tea-desert', icon: 'ðŸŒ¿', title: 'Tea & Desert Theme' },
        { name: 'ocean-breeze', icon: 'ðŸŒŠ', title: 'Ocean Breeze Theme' }
      ];

      const getTheme = () => localStorage.getItem('theme') || 'default';
      const getCurrentThemeIndex = () => {
        const currentTheme = getTheme();
        const index = themes.findIndex(t => t.name === currentTheme);
        return index >= 0 ? index : 0;
      };

      const setTheme = (themeName) => {
        const theme = themes.find(t => t.name === themeName) || themes[0];
        if (themeName === 'default') {
          html.removeAttribute('data-theme');
        } else {
          html.setAttribute('data-theme', themeName);
        }
        themeSwitcher.textContent = theme.icon;
        themeSwitcher.title = theme.title;
        localStorage.setItem('theme', themeName);
      };

      setTheme(getTheme());

      themeSwitcher.addEventListener('click', () => {
        const nextTheme = themes[(getCurrentThemeIndex() + 1) % themes.length];
        setTheme(nextTheme.name);
      });
    })();
  </script>
  <script>
    (function () {
      const toggles = document.querySelectorAll('[data-nav-toggle]');

      toggles.forEach((toggle) => {
        const targetId = toggle.getAttribute('data-nav-toggle');
        const nav = document.getElementById(targetId);
        if (!nav) return;

        const setState = (isOpen) => {
          toggle.setAttribute('aria-expanded', String(isOpen));
          nav.classList.toggle('max-h-64', isOpen);
          nav.classList.toggle('opacity-100', isOpen);
          nav.classList.toggle('pointer-events-auto', isOpen);
          nav.classList.toggle('py-4', isOpen);
          nav.classList.toggle('max-h-0', !isOpen);
          nav.classList.toggle('opacity-0', !isOpen);
          nav.classList.toggle('pointer-events-none', !isOpen);
          nav.classList.toggle('py-0', !isOpen);
        };

        setState(false);

        toggle.addEventListener('click', () => {
          const expanded = toggle.getAttribute('aria-expanded') === 'true';
          setState(!expanded);
        });

        nav.querySelectorAll('a').forEach((link) => {
          link.addEventListener('click', () => setState(false));
        });
      });
    })();
  </script>
</body>
</html>
